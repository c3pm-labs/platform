{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/Users/bibo/delivery/EIP/c3pm/platform/components/pages/Settings/Security/Password/index.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport * as yup from 'yup';\nimport { Formik, Form } from 'formik';\nimport { UPDATE } from 'queries';\nimport { useMutation } from '@apollo/client';\nimport { useViewer } from 'hooks/auth';\nimport PasswordInput from 'components/PasswordInput';\nimport SettingWrapper from '../../SettingWrapper';\nimport UpdateButton from '../../UpdateButton';\nimport { initialValues } from '../../Profile/utils/UpdateUtils';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    container: _defineProperty({\n      display: 'flex',\n      flex: 1,\n      justifyContent: 'space-between',\n      alignItems: 'flex-start',\n      height: 'fit-content'\n    }, theme.breakpoints.down('xs'), {\n      justifyContent: 'center',\n      alignItems: 'center',\n      flex: 1,\n      width: '100%'\n    }),\n    wrapperLabelAndInput: _defineProperty({\n      display: 'flex',\n      flex: 0.55,\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      paddingLeft: theme.spacing(5),\n      minWidth: '200px',\n      minHeight: '220px'\n    }, theme.breakpoints.down('xs'), {\n      paddingLeft: 0,\n      flex: 1,\n      justifyContent: 'center',\n      width: '100%'\n    }),\n    containerInput: _defineProperty({\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      flex: 0.8,\n      minWidth: '220px',\n      paddingRight: theme.spacing(2)\n    }, theme.breakpoints.down('xs'), {\n      paddingRight: 0,\n      flex: 1\n    }),\n    inivisiblelabel: _defineProperty({\n      display: 'flex',\n      flex: 0.2,\n      paddingRight: theme.spacing(4)\n    }, theme.breakpoints.down('xs'), {\n      flex: 0,\n      paddingRight: 0\n    }),\n    styleForm: _defineProperty({\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      flex: 1,\n      width: '100%'\n    }, theme.breakpoints.down('xs'), {\n      flexDirection: 'column'\n    })\n  };\n});\nvar passwordSchema = yup.object().shape({\n  password: yup.string().required('No password provided.').min(8, 'Password is too short.')\n});\n\nfunction Password() {\n  _s();\n\n  var classes = useStyles();\n  var viewer = useViewer();\n\n  var _useMutation = useMutation(UPDATE),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      update = _useMutation2[0];\n\n  if (!viewer) {\n    return null;\n  }\n\n  return __jsx(SettingWrapper, {\n    title: \"Password :\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }\n  }, __jsx(Formik, {\n    validationSchema: passwordSchema,\n    initialValues: {\n      initialValues: initialValues\n    },\n    onSubmit: function onSubmit(values) {\n      update({\n        variables: {\n          id: viewer.id,\n          password: values.password\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: classes.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }, __jsx(Form, {\n    className: classes.styleForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: classes.wrapperLabelAndInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: classes.inivisiblelabel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  }), __jsx(\"div\", {\n    className: classes.containerInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 15\n    }\n  }, __jsx(PasswordInput, {\n    name: \"current password\",\n    fullWidth: true,\n    label: \"Current password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }), __jsx(PasswordInput, {\n    name: \"password\",\n    fullWidth: true,\n    label: \"New password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }), __jsx(PasswordInput, {\n    name: \"new password\",\n    fullWidth: true,\n    label: \"New password again\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }))), __jsx(UpdateButton, {\n    description: \"Update your password\",\n    onClick: function onClick() {\n      return console.log('save');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  })))));\n}\n\n_s(Password, \"g+nVTu2m28a3LvTWUjDtMq1l2XU=\", false, function () {\n  return [useStyles, useViewer, useMutation];\n});\n\n_c = Password;\nexport default Password;\n\nvar _c;\n\n$RefreshReg$(_c, \"Password\");","map":{"version":3,"sources":["/Users/bibo/delivery/EIP/c3pm/platform/components/pages/Settings/Security/Password/index.tsx"],"names":["React","makeStyles","yup","Formik","Form","UPDATE","useMutation","useViewer","PasswordInput","SettingWrapper","UpdateButton","initialValues","useStyles","theme","container","display","flex","justifyContent","alignItems","height","breakpoints","down","width","wrapperLabelAndInput","flexDirection","paddingLeft","spacing","minWidth","minHeight","containerInput","paddingRight","inivisiblelabel","styleForm","passwordSchema","object","shape","password","string","required","min","Password","classes","viewer","update","values","variables","id","console","log"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n  makeStyles,\n} from '@material-ui/core';\nimport * as yup from 'yup';\nimport { Formik, Form } from 'formik';\nimport { UPDATE } from 'queries';\nimport { useMutation } from '@apollo/client';\nimport { useViewer } from 'hooks/auth';\n\nimport PasswordInput from 'components/PasswordInput';\n\nimport SettingWrapper from '../../SettingWrapper';\nimport UpdateButton from '../../UpdateButton';\nimport { initialValues, UpdateUserParams } from '../../Profile/utils/UpdateUtils';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    display: 'flex',\n    flex: 1,\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n    height: 'fit-content',\n    [theme.breakpoints.down('xs')]: {\n      justifyContent: 'center',\n      alignItems: 'center',\n      flex: 1,\n      width: '100%',\n    },\n  },\n  wrapperLabelAndInput: {\n    display: 'flex',\n    flex: 0.55,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingLeft: theme.spacing(5),\n    minWidth: '200px',\n    minHeight: '220px',\n    [theme.breakpoints.down('xs')]: {\n      paddingLeft: 0,\n      flex: 1,\n      justifyContent: 'center',\n      width: '100%',\n    },\n  },\n  containerInput: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    flex: 0.8,\n    minWidth: '220px',\n    paddingRight: theme.spacing(2),\n    [theme.breakpoints.down('xs')]: {\n      paddingRight: 0,\n      flex: 1,\n    },\n  },\n  inivisiblelabel: {\n    display: 'flex',\n    flex: 0.2,\n    paddingRight: theme.spacing(4),\n    [theme.breakpoints.down('xs')]: {\n      flex: 0,\n      paddingRight: 0,\n    },\n  },\n  styleForm: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    flex: 1,\n    width: '100%',\n    [theme.breakpoints.down('xs')]: {\n      flexDirection: 'column',\n    },\n  },\n}));\n\nconst passwordSchema = yup.object().shape({\n  password: yup.string()\n    .required('No password provided.')\n    .min(8, 'Password is too short.'),\n});\n\nfunction Password(): JSX.Element {\n  const classes = useStyles();\n  const viewer = useViewer();\n  const [update] = useMutation(UPDATE);\n\n  if (!viewer) {\n    return null;\n  }\n\n  return (\n    <SettingWrapper\n      title=\"Password :\"\n    >\n      <Formik\n        validationSchema={passwordSchema}\n        initialValues={{ initialValues }}\n        onSubmit={(values: UpdateUserParams): void => {\n          update({\n            variables: {\n              id: viewer.id,\n              password: values.password,\n            },\n          });\n        }}\n      >\n        <div className={classes.container}>\n          <Form className={classes.styleForm}>\n            <div className={classes.wrapperLabelAndInput}>\n              <div className={classes.inivisiblelabel} />\n              <div className={classes.containerInput}>\n                <PasswordInput\n                  name=\"current password\"\n                  fullWidth\n                  label=\"Current password\"\n                />\n                <PasswordInput\n                  name=\"password\"\n                  fullWidth\n                  label=\"New password\"\n                />\n                <PasswordInput\n                  name=\"new password\"\n                  fullWidth\n                  label=\"New password again\"\n                />\n              </div>\n            </div>\n            <UpdateButton description=\"Update your password\" onClick={(): void => (console.log('save'))} />\n          </Form>\n        </div>\n      </Formik>\n    </SettingWrapper>\n  );\n}\n\nexport default Password;\n"]},"metadata":{},"sourceType":"module"}