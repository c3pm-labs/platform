{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _s = $RefreshSig$(),\n    _jsxFileName = \"/Users/bibo/delivery/EIP/c3pm/platform/components/pages/Settings/Profile/Biography/index.tsx\",\n    _s2 = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport { Formik, Form } from 'formik';\nimport * as yup from 'yup';\nimport { UPDATE, USER } from 'queries';\nimport { useMutation } from '@apollo/client';\nimport { useRouter } from 'next/router';\nimport InputFied from '../../InputField';\nimport SettingWrapper from '../../SettingWrapper';\nimport UpdateButton from '../../UpdateButton';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    containerInput: _defineProperty({\n      display: 'flex',\n      flex: 1,\n      flexDirection: 'column',\n      justifyContent: 'space-between',\n      alignItems: 'flex-start',\n      minHeight: '100px',\n      height: '100px',\n      maxHeight: '100px'\n    }, theme.breakpoints.down('xs'), {\n      flex: 1,\n      width: '100%',\n      maxHeight: '300px',\n      marginBottom: theme.spacing(1)\n    }),\n    styleForm: _defineProperty({\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      flex: 1,\n      width: '100%'\n    }, theme.breakpoints.down('xs'), {\n      flexDirection: 'column'\n    })\n  };\n});\nvar initialValues = {\n  newUsername: '',\n  email: '',\n  description: ''\n};\nvar testSchema = yup.object().shape({});\n\nfunction useUpdate(_ref) {\n  _s();\n\n  var id = _ref.id;\n\n  var _useMutation = useMutation(UPDATE, {\n    variables: {\n      id: id\n    },\n    onCompleted: function onCompleted() {\n      console.log('success');\n    },\n    update: function update(cache, _ref2) {\n      var user = _ref2.data.update;\n      cache.writeQuery({\n        query: USER,\n        data: {\n          user: user\n        }\n      });\n    }\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      update = _useMutation2[0];\n\n  return /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(variables) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return update({\n                variables: variables\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n}\n\n_s(useUpdate, \"5YPNQT1SHtsmGwtIu/kIt5H8O4M=\", false, function () {\n  return [useMutation];\n});\n\nfunction Biography() {\n  _s2();\n\n  var classes = useStyles();\n  var router = useRouter();\n  var update = useUpdate({\n    id: String(router.query.params)\n  });\n  return __jsx(SettingWrapper, {\n    title: \"Biography :\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, __jsx(Formik, {\n    validationSchema: testSchema,\n    initialValues: initialValues,\n    onSubmit: function onSubmit(values) {\n      console.log('biography', values);\n      update(values);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: classes.containerInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, __jsx(Form, {\n    className: classes.styleForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, __jsx(InputFied, {\n    name: \"biography\",\n    label: \"Biography :\",\n    value: \"Software developer\",\n    rows: 4,\n    multiline: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }), __jsx(UpdateButton, {\n    description: \"Update your biography\",\n    onClick: function onClick() {\n      return console.log('save');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  })))));\n}\n\n_s2(Biography, \"M/18Y9/FSxpQUg9xN86qGeGAW5M=\", false, function () {\n  return [useStyles, useRouter, useUpdate];\n});\n\n_c = Biography;\nexport default Biography;\n\nvar _c;\n\n$RefreshReg$(_c, \"Biography\");","map":{"version":3,"sources":["/Users/bibo/delivery/EIP/c3pm/platform/components/pages/Settings/Profile/Biography/index.tsx"],"names":["React","makeStyles","Formik","Form","yup","UPDATE","USER","useMutation","useRouter","InputFied","SettingWrapper","UpdateButton","useStyles","theme","containerInput","display","flex","flexDirection","justifyContent","alignItems","minHeight","height","maxHeight","breakpoints","down","width","marginBottom","spacing","styleForm","initialValues","newUsername","email","description","testSchema","object","shape","useUpdate","id","variables","onCompleted","console","log","update","cache","user","data","writeQuery","query","Biography","classes","router","String","params","values"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n  makeStyles,\n} from '@material-ui/core';\nimport { Formik, Form } from 'formik';\nimport * as yup from 'yup';\nimport { UPDATE, USER } from 'queries';\nimport { useMutation } from '@apollo/client';\nimport { User } from 'types';\nimport { UseUserProps } from 'hooks/user';\nimport { useRouter } from 'next/router';\n\nimport InputFied from '../../InputField';\nimport SettingWrapper from '../../SettingWrapper';\nimport UpdateButton from '../../UpdateButton';\n\nconst useStyles = makeStyles((theme) => ({\n  containerInput: {\n    display: 'flex',\n    flex: 1,\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n    minHeight: '100px',\n    height: '100px',\n    maxHeight: '100px',\n    [theme.breakpoints.down('xs')]: {\n      flex: 1,\n      width: '100%',\n      maxHeight: '300px',\n      marginBottom: theme.spacing(1),\n    },\n  },\n  styleForm: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    flex: 1,\n    width: '100%',\n    [theme.breakpoints.down('xs')]: {\n      flexDirection: 'column',\n    },\n  },\n}));\n\ninterface UpdateUserParams {\n  newUsername: string;\n  email: string;\n  description: string;\n}\n\nconst initialValues: UpdateUserParams = {\n  newUsername: '', email: '', description: '',\n};\n\nconst testSchema = yup.object().shape({\n});\n\nfunction useUpdate({ id }: UseUserProps): (variables: UpdateUserParams) => Promise<void> {\n  const [update] = useMutation<{ update: User }>(UPDATE, {\n    variables: { id },\n    onCompleted: () => {\n      console.log('success');\n    },\n    update: (cache, { data: { update: user } }) => {\n      cache.writeQuery({\n        query: USER,\n        data: { user },\n      });\n    },\n\n  });\n  return (async (variables: UpdateUserParams): Promise<void> => {\n    await update({ variables });\n  });\n}\n\nfunction Biography(): JSX.Element {\n  const classes = useStyles();\n  const router = useRouter();\n  const update = useUpdate(({ id: String(router.query.params) }));\n\n  return (\n    <SettingWrapper\n      title=\"Biography :\"\n    >\n      <Formik\n        validationSchema={testSchema}\n        initialValues={initialValues}\n        onSubmit={(values: UpdateUserParams): void => {\n          console.log('biography', values);\n          update(values);\n        }}\n      >\n        <div className={classes.containerInput}>\n          <Form className={classes.styleForm}>\n            <InputFied\n              name=\"biography\"\n              label=\"Biography :\"\n              value=\"Software developer\"\n              rows={4}\n              multiline\n            />\n            <UpdateButton description=\"Update your biography\" onClick={(): void => (console.log('save'))} />\n          </Form>\n        </div>\n      </Formik>\n    </SettingWrapper>\n  );\n}\n\nexport default Biography;\n"]},"metadata":{},"sourceType":"module"}