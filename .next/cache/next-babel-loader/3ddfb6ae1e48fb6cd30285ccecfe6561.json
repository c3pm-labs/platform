{"ast":null,"code":"var _jsxFileName = \"/Users/bibo/delivery/EIP/c3pm/platform/pages/login.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { Formik, Form } from 'formik';\nimport Typography from '@material-ui/core/Typography';\nimport { useLogin } from 'hooks/auth';\nimport { makeStyles, useTheme } from '@material-ui/core';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport withApollo from 'utils/withApollo';\nimport TextInput from 'components/TextInput';\nimport PasswordInput from 'components/PasswordInput';\nimport Button from 'components/Button';\nimport { loginSchema } from 'utils/validation';\nimport TextLink from 'components/TextLink';\nimport Logo from 'components/Logo';\nimport Head from 'components/Head';\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: 'flex',\n    alignItems: 'center',\n    flex: 1,\n    height: '100vh',\n    flexDirection: 'column',\n    [theme.breakpoints.up('md')]: {\n      flexDirection: 'row'\n    }\n  },\n  line: {\n    [theme.breakpoints.up('md')]: {\n      width: '1px',\n      height: '100vh',\n      marginRight: '10px',\n      marginLeft: '10px',\n      backgroundColor: theme.palette.grey[400]\n    }\n  },\n  rowContainer: {\n    display: 'flex',\n    width: '50%',\n    height: 'auto',\n    justifyContent: 'center',\n    alignItems: 'center',\n    [theme.breakpoints.down('xs')]: {\n      width: '70%'\n    },\n    [theme.breakpoints.down('sm')]: {\n      paddingTop: '8vw'\n    }\n  },\n  formContainer: {\n    display: 'flex',\n    maxHeight: '70%',\n    flex: 1,\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    [theme.breakpoints.up('md')]: {\n      maxWidth: '50%'\n    }\n  },\n  input: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-evenly',\n    alignItems: 'center',\n    minHeight: 150,\n    minWidth: 280,\n    '& .MuiFormControl-root': {\n      marginBottom: theme.spacing(2)\n    }\n  },\n  text: {\n    display: 'flex',\n    justifyContent: 'center',\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(5),\n    minWidth: 175,\n    fontSize: 24\n  },\n  register: {\n    display: 'flex',\n    justifyContent: 'center',\n    color: theme.palette.grey[400],\n    marginTop: theme.spacing(4)\n  }\n}));\n\nfunction Login() {\n  const classes = useStyles();\n  const login = useLogin();\n  const initialValues = {\n    login: '',\n    password: ''\n  };\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.up('lg'));\n  const isDesktop = useMediaQuery(theme.breakpoints.up('md'));\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\n\n  const getSize = () => {\n    if (isMobile) {\n      return null;\n    }\n\n    if (matches) {\n      return 'xl';\n    }\n\n    return 'lg';\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Head, {\n    title: \"c3pm - login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    className: classes.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: classes.rowContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, __jsx(Logo, {\n    type: isDesktop ? 'baseline' : 'classic',\n    size: getSize(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  })), __jsx(\"div\", {\n    className: classes.line,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }), __jsx(\"div\", {\n    className: classes.formContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, __jsx(Typography, {\n    variant: \"subtitle1\",\n    className: classes.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, \"Welcome back!\"), __jsx(Formik, {\n    initialValues: initialValues,\n    validationSchema: loginSchema,\n    onSubmit: values => {\n      login(values);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  }, __jsx(Form, {\n    noValidate: true,\n    className: classes.input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, __jsx(TextInput, {\n    type: \"text\",\n    name: \"login\",\n    label: \"email or username\",\n    required: true,\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 15\n    }\n  }), __jsx(PasswordInput, {\n    name: \"password\",\n    label: \"password\",\n    required: true,\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 15\n    }\n  }), __jsx(Button, {\n    color: \"primary\",\n    variant: \"contained\",\n    type: \"submit\",\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 15\n    }\n  }, \"Sign in\"))), __jsx(Typography, {\n    variant: \"caption\",\n    className: classes.register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 11\n    }\n  }, \"Don't have an account?\\xA0\", __jsx(TextLink, {\n    href: \"/register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, \"Sign Up\")))));\n}\n\nexport default withApollo(Login);","map":{"version":3,"sources":["/Users/bibo/delivery/EIP/c3pm/platform/pages/login.tsx"],"names":["Formik","Form","Typography","useLogin","makeStyles","useTheme","useMediaQuery","withApollo","TextInput","PasswordInput","Button","loginSchema","TextLink","Logo","Head","useStyles","theme","container","display","alignItems","flex","height","flexDirection","breakpoints","up","line","width","marginRight","marginLeft","backgroundColor","palette","grey","rowContainer","justifyContent","down","paddingTop","formContainer","maxHeight","maxWidth","input","minHeight","minWidth","marginBottom","spacing","text","marginTop","fontSize","register","color","Login","classes","login","initialValues","password","matches","isDesktop","isMobile","getSize","values"],"mappings":"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","sourcesContent":["import { Formik, Form } from 'formik';\nimport Typography from '@material-ui/core/Typography';\nimport { useLogin } from 'hooks/auth';\nimport { makeStyles, useTheme } from '@material-ui/core';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\nimport withApollo from 'utils/withApollo';\nimport TextInput from 'components/TextInput';\nimport PasswordInput from 'components/PasswordInput';\nimport Button from 'components/Button';\nimport { LoginParams, loginSchema } from 'utils/validation';\nimport TextLink from 'components/TextLink';\nimport Logo, { LogoProps } from 'components/Logo';\nimport Head from 'components/Head';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    display: 'flex',\n    alignItems: 'center',\n    flex: 1,\n    height: '100vh',\n    flexDirection: 'column',\n    [theme.breakpoints.up('md')]: {\n      flexDirection: 'row',\n    },\n  },\n  line: {\n    [theme.breakpoints.up('md')]: {\n      width: '1px',\n      height: '100vh',\n      marginRight: '10px',\n      marginLeft: '10px',\n      backgroundColor: theme.palette.grey[400],\n    },\n  },\n  rowContainer: {\n    display: 'flex',\n    width: '50%',\n    height: 'auto',\n    justifyContent: 'center',\n    alignItems: 'center',\n    [theme.breakpoints.down('xs')]: {\n      width: '70%',\n    },\n    [theme.breakpoints.down('sm')]: {\n      paddingTop: '8vw',\n    },\n  },\n  formContainer: {\n    display: 'flex',\n    maxHeight: '70%',\n    flex: 1,\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    [theme.breakpoints.up('md')]: {\n      maxWidth: '50%',\n    },\n  },\n  input: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-evenly',\n    alignItems: 'center',\n    minHeight: 150,\n    minWidth: 280,\n    '& .MuiFormControl-root': {\n      marginBottom: theme.spacing(2),\n    },\n  },\n  text: {\n    display: 'flex',\n    justifyContent: 'center',\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(5),\n    minWidth: 175,\n    fontSize: 24,\n  },\n  register: {\n    display: 'flex',\n    justifyContent: 'center',\n    color: theme.palette.grey[400],\n    marginTop: theme.spacing(4),\n  },\n}));\n\nfunction Login(): JSX.Element {\n  const classes = useStyles();\n  const login = useLogin();\n\n  const initialValues: LoginParams = { login: '', password: '' };\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.up('lg'));\n  const isDesktop = useMediaQuery(theme.breakpoints.up('md'));\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\n\n  const getSize = (): LogoProps['size'] => {\n    if (isMobile) {\n      return null;\n    }\n    if (matches) {\n      return 'xl';\n    }\n    return 'lg';\n  };\n\n  return (\n    <>\n      <Head title=\"c3pm - login\" />\n      <div className={classes.container}>\n        <div className={classes.rowContainer}>\n          <Logo type={isDesktop ? 'baseline' : 'classic'} size={getSize()} />\n        </div>\n        <div className={classes.line} />\n        <div className={classes.formContainer}>\n          <Typography\n            variant=\"subtitle1\"\n            className={classes.text}\n          >\n            Welcome back!\n          </Typography>\n          <Formik\n            initialValues={initialValues}\n            validationSchema={loginSchema}\n            onSubmit={(values: LoginParams): void => {\n              login(values);\n            }}\n          >\n            <Form noValidate className={classes.input}>\n              <TextInput\n                type=\"text\"\n                name=\"login\"\n                label=\"email or username\"\n                required\n                fullWidth\n              />\n              <PasswordInput\n                name=\"password\"\n                label=\"password\"\n                required\n                fullWidth\n              />\n              <Button\n                color=\"primary\"\n                variant=\"contained\"\n                type=\"submit\"\n                fullWidth\n              >\n                Sign in\n              </Button>\n            </Form>\n          </Formik>\n          <Typography\n            variant=\"caption\"\n            className={classes.register}\n          >\n            Don&apos;t have an account?&nbsp;\n            <TextLink href=\"/register\">Sign Up</TextLink>\n          </Typography>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default withApollo(Login);\n"]},"metadata":{},"sourceType":"module"}