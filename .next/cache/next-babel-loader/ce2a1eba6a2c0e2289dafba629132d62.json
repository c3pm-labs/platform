{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/Users/bibo/delivery/EIP/c3pm/platform/components/pages/Settings/Profile/Email/index.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport { Formik, Form } from 'formik';\nimport * as yup from 'yup';\nimport { UPDATE } from 'queries';\nimport { useMutation } from '@apollo/client';\nimport { useRouter } from 'next/router';\nimport { useUser } from 'hooks/user';\nimport InputFied from '../../InputField';\nimport SettingWrapper from '../../SettingWrapper';\nimport UpdateButton from '../../UpdateButton';\nimport { initialValues } from '../utils/UpdateUtils';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    containerInput: _defineProperty({\n      display: 'flex',\n      flex: 1,\n      flexDirection: 'column',\n      justifyContent: 'space-between',\n      alignItems: 'flex-start'\n    }, theme.breakpoints.down('xs'), {\n      flex: 1,\n      width: '100%',\n      marginBottom: theme.spacing(3),\n      marginTop: theme.spacing(3)\n    }),\n    styleForm: _defineProperty({\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      flex: 1,\n      width: '100%'\n    }, theme.breakpoints.down('xs'), {\n      flexDirection: 'column'\n    })\n  };\n});\nvar testSchema = yup.object().shape({\n  email: yup.string().email('Email is invalid').required('Email is required')\n});\n\nfunction Email() {\n  _s();\n\n  var classes = useStyles();\n  var router = useRouter();\n  var user = useUser({\n    id: String(router.query.params)\n  });\n\n  var _useMutation = useMutation(UPDATE),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      update = _useMutation2[0];\n\n  console.log(user);\n  return __jsx(SettingWrapper, {\n    title: \"Email :\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, __jsx(Formik, {\n    validationSchema: testSchema,\n    initialValues: initialValues,\n    onSubmit: function onSubmit(values) {\n      update({\n        variables: {\n          id: user.id,\n          // CHANGER PAR LE VRAI ID, PROBLEME DE LOGIN!!!\n          email: values.email\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: classes.containerInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, __jsx(Form, {\n    className: classes.styleForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, __jsx(InputFied, {\n    name: \"email\",\n    label: \"Email :\",\n    value: \"alice.dupont@gmail.com\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }), __jsx(UpdateButton, {\n    description: \"Update your email\",\n    onClick: function onClick() {\n      return console.log('save');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  })))));\n}\n\n_s(Email, \"I7RlQfizSzPsWuAjt1Y0wEPY2WA=\", false, function () {\n  return [useStyles, useRouter, useUser, useMutation];\n});\n\n_c = Email;\nexport default Email;\n\nvar _c;\n\n$RefreshReg$(_c, \"Email\");","map":{"version":3,"sources":["/Users/bibo/delivery/EIP/c3pm/platform/components/pages/Settings/Profile/Email/index.tsx"],"names":["React","makeStyles","Formik","Form","yup","UPDATE","useMutation","useRouter","useUser","InputFied","SettingWrapper","UpdateButton","initialValues","useStyles","theme","containerInput","display","flex","flexDirection","justifyContent","alignItems","breakpoints","down","width","marginBottom","spacing","marginTop","styleForm","testSchema","object","shape","email","string","required","Email","classes","router","user","id","String","query","params","update","console","log","values","variables"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n  makeStyles,\n} from '@material-ui/core';\nimport { Formik, Form } from 'formik';\nimport * as yup from 'yup';\nimport { UPDATE } from 'queries';\nimport { useMutation } from '@apollo/client';\nimport { useRouter } from 'next/router';\nimport { useUser } from 'hooks/user';\n\nimport InputFied from '../../InputField';\nimport SettingWrapper from '../../SettingWrapper';\nimport UpdateButton from '../../UpdateButton';\nimport { initialValues, UpdateUserParams } from '../utils/UpdateUtils';\n\nconst useStyles = makeStyles((theme) => ({\n  containerInput: {\n    display: 'flex',\n    flex: 1,\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n    [theme.breakpoints.down('xs')]: {\n      flex: 1,\n      width: '100%',\n      marginBottom: theme.spacing(3),\n      marginTop: theme.spacing(3),\n    },\n  },\n  styleForm: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    flex: 1,\n    width: '100%',\n    [theme.breakpoints.down('xs')]: {\n      flexDirection: 'column',\n    },\n  },\n}));\n\nconst testSchema = yup.object().shape({\n  email: yup.string().email('Email is invalid').required('Email is required'),\n});\n\nfunction Email(): JSX.Element {\n  const classes = useStyles();\n  const router = useRouter();\n  const user = useUser({ id: String(router.query.params) });\n  const [update] = useMutation(UPDATE);\n  console.log(user);\n  return (\n    <SettingWrapper\n      title=\"Email :\"\n    >\n      <Formik\n        validationSchema={testSchema}\n        initialValues={initialValues}\n        onSubmit={(values: UpdateUserParams): void => {\n          update({\n            variables: {\n              id: user.id, // CHANGER PAR LE VRAI ID, PROBLEME DE LOGIN!!!\n              email: values.email,\n            },\n          });\n        }}\n      >\n        <div className={classes.containerInput}>\n          <Form className={classes.styleForm}>\n            <InputFied name=\"email\" label=\"Email :\" value=\"alice.dupont@gmail.com\" />\n            <UpdateButton description=\"Update your email\" onClick={(): void => (console.log('save'))} />\n          </Form>\n        </div>\n      </Formik>\n    </SettingWrapper>\n  );\n}\n\nexport default Email;\n"]},"metadata":{},"sourceType":"module"}